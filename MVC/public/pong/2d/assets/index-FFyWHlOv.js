(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))y(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const w of a.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&y(w)}).observe(document,{childList:!0,subtree:!0});function l(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function y(o){if(o.ep)return;o.ep=!0;const a=l(o);fetch(o.href,a)}})();const p=document.getElementById("pong");if(!(p instanceof HTMLCanvasElement))throw new Error("Canvas element not found or not a canvas");const i=p,r=i.getContext("2d");i.width=800;i.height=400;let m=0,x=0;const d=2;class v{x;y;width;height;color;speed;gravity;constructor(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.color=e.color,this.speed=e.speed??4,this.gravity=e.gravity}}const n=new v({x:10,y:(i.height-80)/2,width:15,height:80,color:"#fff",gravity:2}),s=new v({x:775,y:(i.height-80)/2,width:15,height:80,color:"#fff",gravity:2}),t=new v({x:i.width/2,y:i.height/2,width:15,height:15,color:"#fff",gravity:1});function P(){r.font="bold 48px 'Press Start 2p' ,Courier New, monospace",r.fillStyle="#fff",r.fillText(m.toString(),i.width/2-200,70)}function L(){r.font="bold 48px 'Press Start 2p' ,Courier New, monospace",r.fillStyle="#fff",r.fillText(x.toString(),i.width/2+200,70)}function u(h){r.fillStyle=h.color,r.fillRect(h.x,h.y,h.width,h.height)}function M(){r.save(),r.strokeStyle="#fff",r.lineWidth=4,r.setLineDash([20,20]),r.beginPath(),r.moveTo(i.width/2,10),r.lineTo(i.width/2,i.height),r.stroke(),r.setLineDash([]),r.restore()}const c={};window.addEventListener("keydown",h=>{const e=h.key;c[e]=!0});window.addEventListener("keyup",h=>{const e=h.key;c[e]=!1});let g=0,f=0;function S(){g=0,f=0,c.w&&n.y-n.gravity*8>d&&(n.y-=n.gravity*4,g=-n.gravity*4),c.s&&n.y+n.height+n.gravity*8<i.height-d&&(n.y+=n.gravity*4,g=n.gravity*4),c.ArrowUp&&s.y-s.gravity*8>d&&(s.y-=s.gravity*4,f=-s.gravity*4),c.ArrowDown&&s.y+s.height+s.gravity*8<i.height-d&&(s.y+=s.gravity*4,f=s.gravity*4)}function E(){t.y+t.gravity<=0||t.y+t.gravity+t.height>=i.height?(t.gravity=t.gravity*-1,t.y+=t.gravity,t.x+=t.speed):(t.y+=t.gravity,t.x+=t.speed),O()}function O(){function h(e){const l=t.x+t.speed,y=t.y+t.gravity;return l<e.x+e.width&&l+t.width>e.x&&y<e.y+e.height&&y+t.height>e.y}if(h(s)){t.speed=-Math.abs(t.speed)*1.1;const l=(t.y+t.height/2-s.y)/s.height;t.gravity=(l<.5?-1:1)*Math.max(1,Math.abs(t.gravity))+f*.5}else if(h(n)){t.speed=Math.abs(t.speed)*1.1;const l=(t.y+t.height/2-n.y)/n.height;t.gravity=(l<.5?-1:1)*Math.max(1,Math.abs(t.gravity))+g*.5}else if(t.x+t.speed<0){x+=1,t.x=i.width/2-t.width/2,t.y=i.height/2-t.height/2,t.speed=4,t.gravity=Math.random()>.5?1:-1;return}else if(t.x+t.speed>i.width){m+=1,t.x=i.width/2-t.width/2,t.y=i.height/2-t.height/2,t.speed=-4,t.gravity=Math.random()>.5?1:-1;return}}function T(){r.clearRect(0,0,i.width,i.height),u(n),u(s),u(t),P(),L(),M()}function b(){S(),E(),T(),window.requestAnimationFrame(b)}b();
